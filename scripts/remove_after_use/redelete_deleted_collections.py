import sys
import datetime as dt
import logging
import pytz

from website.app import setup_django
setup_django()
from scripts import utils as script_utils
from osf.models import Collection

logger = logging.getLogger(__name__)

bad_ids = [
    504834,
    12311,
    505122,
    510647,
    526686,
    519036,
    510833,
    557229,
    73669,
    511283,
    505841,
    505839,
    511538,
    29750,
    536114,
    560750,
    560751,
    514579,
    511710,
    514659,
    18145,
    544234,
    528973,
    512877,
    61351,
    515780,
    507705,
    507718,
    520798,
    507750,
    268490,
    535475,
    62652,
    513305,
    544450,
    25542,
    516389,
    508764,
    508765,
    569150,
    513564,
    70239,
    516681,
    521741,
    516895,
    517038,
    544486,
    517043,
    14584,
    14676,
    7548,
    156515,
    517326,
    21302,
    545815,
    522337,
    533677,
    556137,
    106594,
    518139,
    530225,
    543732,
    541488,
    569201,
    530636,
    522883,
    84383,
    155464,
    550672,
    538550,
    534852,
    526074,
    85239,
    546312,
    562689,
    11442,
    558182,
    16818,
    32306,
    552194,
    552206,
    552208,
    552231,
    38160,
    136981,
    547461,
    552768,
    548026,
    548047,
    548048,
    171818,
    137610,
    548616,
    172354,
    7317,
    560160,
    553804,
    90065,
    554009,
    39293,
    39393,
    554256,
    564599,
    571616,
    571651,
    6902,
    72450,
    72693,
    25757,
    566482,
    494024,
    25900,
    117003,
    567041,
    275038,
    567669,
    470022,
    362359,
    56451,
    56455,
    56879,
    57342,
    40338,
    141345,
    3780,
    3783,
    41094,
    81006,
    45397,
    7133,
    69019,
    69245,
    299264,
    70079,
    7695,
    6445,
    6897,
    78092,
    108572,
    110745,
    7953,
    91668,
    91931,
    120735,
    109283,
    143805,
    362617,
    10398,
    260625,
    46338,
    259715,
    259793,
    290509,
    298293,
    26949,
    9420,
    335739,
    361812,
    277654,
    363230,
    355283,
    302020,
    327151,
    332496,
    333094,
    327854,
    335636,
    332918,
    86468,
    349340,
    477693,
    480799,
    3500,
    470774,
    467028,
    495361,
    473007,
    479050,
    492541,
    496080,
    496311,
    498874,
    503476,
    503964,
    92380,
    12417,
    11677,
    11745,
    11755,
    11816,
    11895,
    11976,
    12050,
    12149,
    12205,
    110297,
    12507,
    72932,
    73011,
    73257,
    73308,
    12647,
    12704,
    12706,
    73402,
    12733,
    12790,
    12848,
    12872,
    73506,
    12949,
    73521,
    13018,
    13078,
    13093,
    303486,
    73769,
    73940,
    74058,
    74066,
    13188,
    13239,
    13314,
    13407,
    13454,
    13461,
    74313,
    13767,
    13922,
    13963,
    13970,
    74579,
    340967,
    74660,
    74749,
    75194,
    17760,
    17817,
    17821,
    17847,
    104980,
    17942,
    17989,
    18038,
    105054,
    105168,
    105170,
    18137,
    18186,
    18215,
    353177,
    105264,
    105218,
    105359,
    105419,
    22954,
    22971,
    23011,
    23113,
    105533,
    23160,
    23169,
    105603,
    105718,
    23286,
    23377,
    23381,
    105839,
    23501,
    23666,
    23716,
    23758,
    23899,
    24034,
    105894,
    106177,
    106221,
    24118,
    106295,
    298925,
    106442,
    106450,
    59543,
    59696,
    59707,
    60043,
    59960,
    60639,
    308184,
    139650,
    139669,
    139898,
    140032,
    24366,
    24453,
    140105,
    140205,
    24505,
    24539,
    24667,
    24733,
    24700,
    24714,
    61037,
    153877,
    24872,
    363383,
    154154,
    61164,
    61197,
    61319,
    61476,
    61523,
    61637,
    61820,
    61912,
    62000,
    278073,
    277881,
    62275,
    62590,
    62640,
    62838,
    24944,
    24974,
    25002,
    25199,
    25308,
    25346,
    25368,
    25395,
    25403,
    25555,
    25558,
    20587,
    20593,
    20635,
    20638,
    20765,
    20852,
    63245,
    63276,
    63373,
    63380,
    63390,
    85681,
    85703,
    85735,
    20984,
    20985,
    85977,
    86138,
    86187,
    86228,
    154184,
    154336,
    154362,
    154458,
    154640,
    154757,
    155090,
    155675,
    14283,
    14466,
    14473,
    14510,
    155810,
    14723,
    14735,
    155988,
    156058,
    156215,
    156373,
    156318,
    156358,
    156427,
    156482,
    156520,
    86691,
    156717,
    86728,
    87090,
    87119,
    87219,
    87330,
    87487,
    87492,
    156847,
    88395,
    84799,
    21373,
    21419,
    21436,
    21491,
    14838,
    14890,
    14943,
    14997,
    15011,
    15041,
    15125,
    15185,
    158177,
    158319,
    106865,
    106953,
    107066,
    107128,
    107346,
    29768,
    60244,
    29882,
    107430,
    107433,
    30009,
    30078,
    30184,
    107600,
    30214,
    30376,
    30379,
    107785,
    83359,
    83368,
    107821,
    331391,
    30488,
    30506,
    158571,
    180654,
    180679,
    180717,
    180746,
    180754,
    180756,
    83694,
    83720,
    180785,
    84259,
    84391,
    180817,
    84608,
    180887,
    180906,
    15475,
    15494,
    15504,
    30528,
    16115,
    16153,
    16245,
    16293,
    37211,
    37227,
    37314,
    30710,
    30981,
    30989,
    31036,
    31043,
    31047,
    31060,
    37334,
    108084,
    108096,
    37415,
    108214,
    108511,
    108489,
    108634,
    135854,
    31376,
    31431,
    136047,
    136058,
    136152,
    85102,
    136242,
    85322,
    85345,
    136270,
    136308,
    85618,
    85653,
    86316,
    86254,
    86408,
    86457,
    10634,
    10682,
    10781,
    10897,
    10929,
    10940,
    10948,
    10967,
    11054,
    11075,
    11108,
    141905,
    142021,
    142086,
    16373,
    11219,
    11250,
    11340,
    11376,
    11397,
    142536,
    11400,
    11432,
    11501,
    31613,
    31702,
    16464,
    16502,
    16508,
    37503,
    16569,
    31850,
    31880,
    16622,
    16630,
    16668,
    32107,
    142784,
    142797,
    16750,
    32278,
    32404,
    37713,
    16985,
    37903,
    37986,
    38003,
    38026,
    136505,
    136605,
    136666,
    136707,
    136829,
    38192,
    137177,
    137195,
    278230,
    86777,
    86923,
    87629,
    87760,
    87772,
    87827,
    143017,
    143159,
    143227,
    143318,
    143474,
    88246,
    143561,
    143631,
    88375,
    144148,
    144366,
    17067,
    17117,
    17137,
    17272,
    17384,
    17420,
    17498,
    38288,
    38338,
    38487,
    17666,
    137419,
    38640,
    144548,
    144684,
    38687,
    38707,
    38719,
    145024,
    145153,
    38758,
    17674,
    38911,
    171824,
    181070,
    181066,
    181134,
    181215,
    181227,
    181418,
    181446,
    181519,
    137851,
    137443,
    137601,
    137762,
    137886,
    172272,
    172282,
    172311,
    138030,
    138038,
    138072,
    138084,
    172426,
    138397,
    138506,
    138467,
    88758,
    89609,
    88971,
    89090,
    89195,
    89650,
    89733,
    89800,
    89881,
    39218,
    39278,
    71774,
    172556,
    172590,
    172633,
    173055,
    173014,
    173059,
    173099,
    173167,
    173181,
    173192,
    173217,
    173559,
    173590,
    173681,
    181923,
    181953,
    181995,
    182017,
    182058,
    173819,
    182185,
    182194,
    182229,
    182272,
    182325,
    138594,
    173842,
    173855,
    173919,
    138666,
    138788,
    465407,
    139412,
    175357,
    175367,
    175408,
    175412,
    175701,
    175773,
    175844,
    175886,
    175916,
    176053,
    182542,
    182783,
    72529,
    182912,
    182930,
    176302,
    183083,
    330615,
    174665,
    174725,
    174982,
    25662,
    25682,
    25802,
    19619,
    19699,
    19705,
    176878,
    176924,
    19798,
    176938,
    176944,
    19815,
    19863,
    20020,
    20036,
    20057,
    25908,
    26035,
    26058,
    26183,
    26204,
    116476,
    20098,
    20136,
    117239,
    117267,
    117296,
    117432,
    117440,
    20261,
    20321,
    20318,
    117531,
    117600,
    117607,
    117622,
    117695,
    20414,
    117841,
    117853,
    20450,
    20570,
    32489,
    32522,
    32647,
    32664,
    32715,
    32767,
    32774,
    32881,
    88780,
    88985,
    89022,
    32955,
    89253,
    89394,
    89433,
    89690,
    89695,
    33035,
    26413,
    26500,
    26513,
    26521,
    26548,
    26590,
    26609,
    26722,
    89861,
    26872,
    46042,
    46070,
    26943,
    90190,
    46167,
    90298,
    322000,
    90320,
    90346,
    90365,
    321999,
    118787,
    119259,
    119628,
    120161,
    120587,
    120729,
    120850,
    121067,
    121313,
    27036,
    27003,
    27055,
    27093,
    27166,
    27169,
    27201,
    27215,
    27308,
    27321,
    121578,
    27383,
    27397,
    27462,
    90761,
    90890,
    90899,
    90984,
    91281,
    91636,
    46508,
    46315,
    46318,
    46502,
    91932,
    41270,
    41273,
    46751,
    41382,
    46824,
    46858,
    46934,
    46935,
    46945,
    46947,
    47028,
    47065,
    297752,
    122107,
    123493,
    123699,
    124466,
    122865,
    123310,
    123879,
    124197,
    124633,
    124836,
    125070,
    47111,
    47123,
    56621,
    56810,
    47235,
    47321,
    41704,
    47458,
    41854,
    41962,
    41980,
    42058,
    42066,
    42168,
    42254,
    47624,
    47652,
    42419,
    47762,
    42540,
    42563,
    47846,
    125137,
    125594,
    125600,
    125747,
    126099,
    126705,
    126887,
    127282,
    139887,
    139903,
    57320,
    57664,
    57777,
    57950,
    58166,
    58049,
    338306,
    48059,
    3323,
    3282,
    3531,
    48077,
    48098,
    3557,
    3560,
    3563,
    48175,
    48191,
    48213,
    48244,
    48249,
    48377,
    48567,
    48574,
    3615,
    42905,
    42943,
    43148,
    43175,
    48738,
    43381,
    43451,
    3650,
    48794,
    3680,
    48982,
    58438,
    58491,
    58531,
    58649,
    49043,
    44114,
    59136,
    59278,
    27601,
    27585,
    27629,
    27644,
    27707,
    27731,
    27766,
    27784,
    40312,
    40355,
    59651,
    59658,
    40570,
    140019,
    140175,
    140400,
    140485,
    140555,
    140571,
    140593,
    140758,
    141052,
    141181,
    141301,
    44270,
    3805,
    3770,
    40759,
    3916,
    3931,
    3935,
    3949,
    3958,
    3988,
    44306,
    44451,
    44481,
    4024,
    49464,
    44561,
    49469,
    49517,
    49523,
    49542,
    49560,
    49615,
    64105,
    64124,
    44598,
    4069,
    64270,
    64280,
    64426,
    64451,
    64461,
    64510,
    4092,
    4098,
    58962,
    59075,
    44756,
    59313,
    59360,
    59438,
    44859,
    44877,
    40868,
    40876,
    40879,
    93214,
    41005,
    64869,
    93726,
    93858,
    93904,
    41115,
    64881,
    64890,
    44972,
    94088,
    94355,
    350731,
    80449,
    80795,
    41465,
    41495,
    94473,
    81132,
    487962,
    81481,
    81532,
    9444,
    81826,
    82156,
    82324,
    82560,
    82647,
    65046,
    83001,
    94539,
    94568,
    67534,
    83200,
    83224,
    361396,
    67729,
    67722,
    67771,
    67772,
    68159,
    68184,
    68328,
    45044,
    45121,
    45140,
    45231,
    45295,
    45300,
    45322,
    45431,
    4347,
    4400,
    63777,
    94722,
    5534,
    4304,
    4311,
    5557,
    5574,
    65059,
    65195,
    65279,
    65317,
    95162,
    95186,
    5608,
    5616,
    5621,
    95195,
    95203,
    95214,
    95244,
    95256,
    95271,
    65427,
    65437,
    63986,
    41756,
    5655,
    42061,
    95342,
    41918,
    65566,
    41996,
    64031,
    5698,
    5686,
    42248,
    42306,
    95738,
    42373,
    42424,
    42453,
    95784,
    42525,
    65818,
    42592,
    6927,
    6990,
    6905,
    7013,
    7030,
    7112,
    7076,
    7099,
    297885,
    68481,
    7355,
    68600,
    68704,
    69050,
    69206,
    65879,
    66016,
    66108,
    66323,
    69363,
    66376,
    5831,
    5852,
    66392,
    5882,
    5936,
    83331,
    115048,
    42874,
    43037,
    43109,
    43196,
    115495,
    6133,
    43217,
    6174,
    43345,
    43374,
    6229,
    43587,
    43615,
    6293,
    6340,
    116385,
    43877,
    43965,
    96217,
    96259,
    106543,
    106629,
    106677,
    106685,
    106800,
    106807,
    69365,
    69373,
    69421,
    69502,
    69514,
    69532,
    107085,
    69747,
    69793,
    69893,
    69904,
    107406,
    107431,
    69954,
    70161,
    7625,
    7630,
    7646,
    7654,
    7676,
    7691,
    7732,
    7766,
    70308,
    70364,
    7846,
    7866,
    6380,
    7912,
    7913,
    109682,
    109901,
    109931,
    110060,
    110076,
    110187,
    116929,
    117315,
    66734,
    66808,
    117757,
    67069,
    67074,
    90546,
    118347,
    118447,
    118510,
    6458,
    6517,
    6518,
    6557,
    6561,
    6573,
    6579,
    271763,
    6629,
    6658,
    6663,
    110547,
    6670,
    70490,
    91018,
    91081,
    91103,
    119014,
    110584,
    6733,
    119212,
    91252,
    91437,
    470043,
    269065,
    107947,
    108037,
    108244,
    108294,
    108329,
    108339,
    44050,
    44080,
    44145,
    77903,
    78035,
    108485,
    78211,
    108610,
    67145,
    78311,
    78327,
    78367,
    110602,
    78506,
    67327,
    67365,
    110718,
    110769,
    7956,
    140554,
    140601,
    78574,
    9199,
    9305,
    9307,
    9308,
    140672,
    140684,
    78714,
    67467,
    141010,
    9455,
    91479,
    141061,
    9460,
    91622,
    91801,
    119635,
    91880,
    119938,
    119969,
    120208,
    120003,
    92471,
    122078,
    303341,
    93057,
    122590,
    122699,
    78864,
    78886,
    79023,
    79232,
    79237,
    79284,
    79353,
    278838,
    79675,
    79944,
    80129,
    348235,
    303482,
    108668,
    108807,
    108762,
    108800,
    108823,
    108874,
    108914,
    108969,
    108991,
    109037,
    109091,
    109301,
    109323,
    109383,
    141850,
    141869,
    142035,
    142284,
    142488,
    9729,
    9766,
    142637,
    142666,
    142688,
    9830,
    9857,
    9870,
    9923,
    10043,
    10089,
    270171,
    143040,
    143057,
    143073,
    143311,
    143348,
    143370,
    143739,
    144123,
    144227,
    475058,
    10163,
    10335,
    10364,
    10384,
    10385,
    10411,
    10472,
    10498,
    144479,
    144492,
    144658,
    144770,
    145374,
    145476,
    145920,
    297958,
    92659,
    17902,
    11539,
    258365,
    256121,
    328662,
    454108,
    259651,
    267136,
    295391,
    261390,
    5550,
    108337,
    255601,
    354736,
    255730,
    259661,
    295581,
    348305,
    272409,
    258822,
    331623,
    263861,
    264352,
    272853,
    263558,
    263557,
    263664,
    340095,
    479214,
    266078,
    316774,
    270868,
    323555,
    316787,
    316796,
    316805,
    290506,
    270892,
    270894,
    290507,
    290508,
    305751,
    271219,
    290512,
    290514,
    290519,
    479284,
    317056,
    355604,
    298333,
    305846,
    305869,
    122430,
    352332,
    18345,
    481426,
    355217,
    308651,
    308650,
    276179,
    276180,
    352055,
    277199,
    69750,
    300687,
    332107,
    315300,
    259650,
    308822,
    308829,
    308888,
    301144,
    310913,
    326234,
    465080,
    459731,
    154150,
    309267,
    310313,
    327125,
    307058,
    307114,
    332494,
    332495,
    310390,
    310391,
    307628,
    333681,
    321924,
    333863,
    321998,
    333178,
    327590,
    322184,
    479356,
    331195,
    335631,
    336514,
    456579,
    333978,
    334595,
    462357,
    356029,
    352875,
    295572,
    295573,
    352770,
    352772,
    352773,
    352774,
    352775,
    352780,
    352781,
    336567,
    336742,
    336746,
    336747,
    349531,
    361051,
    356386,
    363552,
    502766,
    71750,
    452361,
    463038,
    451655,
    454274,
    471908,
    457739,
    362569,
    461457,
    480251,
    453775,
    463493,
    455785,
    456823,
    456601,
    37904,
    462058,
    457602,
    458892,
    461484,
    460770,
    477758,
    61770,
    463682,
    473537,
    494709,
    489041,
    469688,
    466834,
    472364,
    473613,
    467569,
    467564,
    469204,
    474614,
    495190,
    482731,
    485288,
    492823,
    20329,
]

def main(dry=True):
    Collection.objects.filter(id__in=bad_ids).update(deleted=dt.datetime.utcfromtimestamp(0).replace(tzinfo=pytz.utc))

if __name__ == '__main__':
    dry = '--dry' in sys.argv
    if not dry:
        script_utils.add_file_logger(logger, __file__)
    main(dry=dry)
