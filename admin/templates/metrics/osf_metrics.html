{% extends 'base.html' %}
{% load static %}

{% block title %}
    <title>OSF Metrics</title>
{% endblock title %}

{% block top_includes %}
    <script>
        if ('{{ keen_ready }}' == 'True') {
            var keenProjectId = '{{ keen_project_id }}';
            var keenReadKey = '{{ keen_read_key }}';
        }
    </script>

{% endblock top_includes %}

{% block content %}

    <h2>OSF Metrics</h2>

    <div>
        <h3>Yesterday's Active Users</h3>
        <div id="active-user-count">Loading...</div>
    </div>

    <div>
        <h3>Active Users Over Time</h3>
        <div id="active-user-chart">Loading...</div>
    </div>

    <div>
        <h3>Affiliated Public projects by Institution</h3>
        <div id="affiliated-public-projects">Loading...</div>
    </div>

    <div>
        <h3>Affiliated Private projects by Institution</h3>
        <div id="affiliated-private-projects">Loading...</div>
    </div>

    <div>
        <h3>Previous 7 days of user registrations by email domain</h3>
        <div id="user-registration-by-email-domain">Loading...</div>
    </div>

    <div>
        <h3>Yesterday's Node logs by user</h3>
        <div id="yesterdays-node-logs-by-user">Loading...</div>
    </div>

    <div>
        <h3>Previous 7 days of users by status</h3>
        <div id="previous-7-days-of-users-by-status">Loading...</div>
    </div>

    <div>
        <h3>Previous 7 days of linked addon by addon name</h3>
        <div id="previous-7-days-of-linked-addon-by-addon-name">Loading...</div>
    </div>

    <div>
        <h2>Coming Soon!</h2>

        <div>
            <h3>Previous 7 days of profile edits</h3>
        </div>
    </div>

{% endblock content %}


{% block bottom_js %}
    <script src="{% static 'public/js/metrics.js' %}"></script>
{% endblock %}
